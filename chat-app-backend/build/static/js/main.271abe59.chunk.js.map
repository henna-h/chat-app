{"version":3,"sources":["components/SignUp.js","components/Login.js","components/Navbar.js","services/messages.js","components/message.js","components/ChatBox.js","components/Notification.js","services/login.js","services/users.js","App.js","index.js"],"names":["SignUp","register","useState","username","setUsername","password1","setPassword1","password2","setPassword2","value","onChange","event","target","placeholder","type","onClick","preventDefault","Login","login","users","password","setPassword","NavLink","styled","Link","NavLinkRight","Nav","div","Navbar","user","logOut","to","baseUrl","token","getAll","axios","get","then","response","data","send","newObject","a","config","headers","Authorization","post","remove","id","delete","setToken","newToken","MessageUser","MessageText","Message","content","console","log","MessageBox","MessageSpan","span","Textarea","textarea","MessageButton","button","Title","h3","ChatBox","messages","setMessages","newContent","setNewContent","useEffect","messageService","map","message","date","Date","now","concat","Noti","NotiText","h1","Notification","credentials","create","Wrapper","App","setUser","setUsers","notification","setNotification","history","useHistory","userService","loggedUserJSON","window","localStorage","getItem","JSON","parse","loginService","setItem","stringify","push","setTimeout","removeItem","includes","length","newUser","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.271abe59.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst SignUp = ({ register }) => {\n  const [username, setUsername] = useState('')\n  const [password1, setPassword1] = useState('')\n  const [password2, setPassword2] = useState('')\n\n  const handleNewUsernameChange = (event) => {\n    setUsername(event.target.value)\n  }\n\n  const handlePassword1Change = (event) => {\n    setPassword1(event.target.value)\n  }\n\n  const handlePassword2Change = (event) => {\n    setPassword2(event.target.value)\n  }\n\n  const registerAndLogin = (event) => {\n    event.preventDefault()\n    /*\n    const usernames = users.map(user => user.username)\n\n\n    if(password1 !== password2){\n      return console.log('Make sure password fields match!')\n    } else if(username.length < 3 || password1.length < 3){\n      return console.log('Username and password must be at least 3 characters long')\n    } else if(usernames.includes(username)){\n      return console.log('Username is already taken')\n    } else {\n    */\n\n      const user = {\n        username: username,\n        password1: password1,\n        password2: password2,\n      }\n\n      register(user)\n\n  }\n\n  return(\n    <div>\n      <h3>No account? Sign up!</h3>\n      <form>\n        <div>\n          <input value={username} onChange={handleNewUsernameChange} placeholder='username' />\n        </div>\n        <div>\n          <input type='password' value={password1} onChange={handlePassword1Change} placeholder='password' />\n        </div>\n        <div>\n          <input type='password' value={password2} onChange={handlePassword2Change} placeholder='repeat password' />\n        </div>\n        <button onClick={registerAndLogin} type='submit'>Sign up</button>\n      </form>\n    </div>\n  )\n}\n\nSignUp.propTypes = {\n  //users: PropTypes.array.isRequired,\n  login: PropTypes.func.isRequired,\n  register: PropTypes.func.isRequired,\n}\n\nexport default SignUp","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport SignUp from './SignUp'\n//import styled from 'styled-components'\n\nconst Login = ({ login, users, register }) => {\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const handleUsernameChange = (event) => {\n      setUsername(event.target.value)\n    }\n\n    const handlePasswordChange = (event) => {\n      setPassword(event.target.value)\n    }\n\n    const loginUser = (event) => {\n      event.preventDefault()\n      login(username, password)\n    }\n\n    return (\n      <div>\n          <h3>Sign in!</h3>\n        <form>\n          <div>\n            <input value={username} onChange={handleUsernameChange} placeholder='username' />\n          </div>\n          <div>\n            <input type='password' value={password} onChange={handlePasswordChange} placeholder='password' />\n          </div>\n            <button onClick={loginUser} type='submit'>Login</button>\n        </form>\n\n        <SignUp login={login} users={users} register={register} />\n      </div>\n    )\n}\n\nLogin.propTypes = {\n  users: PropTypes.array.isRequired,\n  login: PropTypes.func.isRequired,\n  register: PropTypes.func.isRequired,\n}\n\nexport default Login","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport {\n  Link\n} from \"react-router-dom\"\n\nconst NavLink = styled(Link)`\n  padding: 0.25em;\n  font-size: 1em;\n  color: Azure;\n  font-weight: bold;\n`\n\nconst NavLinkRight = styled(Link)`\n  padding: 0.25em;\n  position: absolute;\n  right: 1em;\n  font-size: 1em;\n  color: Azure;\n  font-weight: bold;\n`\n\nconst Nav = styled.div`\n  background: black;\n  padding: 0.75em\n`\n\nconst Navbar = ({ user, logOut }) => {\n\n\n  return (\n    <Nav>\n      <NavLink to=\"/\">Home</NavLink>\n      {user\n        ? <NavLinkRight onClick={logOut} to=\"/#\">Log out</NavLinkRight>\n        : <NavLinkRight to=\"/login\">Login</NavLinkRight>\n      }\n    </Nav>\n  )\n}\n\nNavbar.propTypes = {\n  user: PropTypes.object.isRequired,\n  logOut: PropTypes.func.isRequired,\n}\n\nexport default Navbar","import axios from 'axios'\nconst baseUrl = '/api/messages'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst send = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\n\nconst remove = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  await axios.delete(`${baseUrl}/${id}`, config)\n}\n\n\nexport default { getAll, send, remove, setToken }","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst MessageUser = styled.div`\n  margin: 1em;\n  color: PowderBlue;\n  border-style: none none solid none;\n`\n\nconst MessageText = styled.div`\n  margin: 1em;\n  color: Azure\n`\n\nconst Message = ({ content, user }) => {\n    if(user && user !== null){\n        console.log(user.username)\n        return(\n           <div>\n            <MessageUser>{user.username}:</MessageUser>\n            <MessageText>{content}</MessageText>\n          </div>\n        )\n    } else {\n        return(\n        <div>\n          <MessageUser>anonymous:</MessageUser>\n          <MessageText>{content}</MessageText>\n        </div>\n        )\n    }\n\n}\n\nMessage.propTypes = {\n    content: PropTypes.String.isRequired,\n    user: PropTypes.object.isRequired,\n    //time: PropTypes.object.isRequired,\n  }\n\nexport default Message","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport messageService from '../services/messages'\nimport Message from './message'\n\nconst MessageBox = styled.div`\n  background: Black;\n  width: 20em;\n  height: 30em;\n  position: relative;\n  right: 5em;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 1em 2em;\n  align-items: center;\n  overflow: scroll;\n`\n\nconst MessageSpan = styled.span`\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  align-items: center;\n  width: 20em;\n  display: flex;\n`\n\nconst Textarea = styled.textarea`\n  min-width: 15em;\n  padding: 0.5em;\n  display: flex;\n  margin: 0.5em;\n  background: black;\n  color: white;\n  border-radius: 3px\n`\n\nconst MessageButton = styled.button`\n  width: 5em;\n  color: palevioletred;\n  background: transparent;\n  font-size: 1em;\n  border: none;\n  border-bottom: solid PowderBlue;\n`\n\nconst Title = styled.h3`\n  color: Ivory;\n`\n\nconst ChatBox = ({ user }) => {\n  const [messages, setMessages] = useState([])\n  const [newContent, setNewContent] = useState('')\n\n  console.log(user)\n\n  useEffect(() => {\n    messageService.getAll().then(messages =>\n      setMessages( messages )\n    )\n  }, [])\n\n  const handleMessageChange = (event) => {\n    setNewContent(event.target.value)\n  }\n\n  const sendMessage = () => {\n    console.log('user in sendMessage ' + user)\n\n    let message = null\n\n    if(user === null){\n      message = {\n        content: newContent,\n        date: Date.now(),\n        user: null\n      }\n    } else {\n      message = {\n        content: newContent,\n        date: Date.now(),\n        user: user\n      }\n    }\n    messageService.send(message)\n    setMessages(messages.concat(message))\n    setNewContent('')\n  }\n  \n  return (\n    <div>\n      <MessageBox>\n        <Title>Start Chatting!</Title>\n        {messages.map(message => (\n          <div key={message.id}>\n            <Message user={message.user} content={message.content} />\n          </div>\n        ))}\n      </MessageBox>\n      <MessageSpan>\n        <Textarea value={newContent} onChange={handleMessageChange}></Textarea>\n        <MessageButton onClick={sendMessage}>Send</MessageButton>\n      </MessageSpan>\n    </div>\n  )\n}\n\nChatBox.propTypes = {\n  user: PropTypes.func.isRequired,\n}\n\nexport default ChatBox","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Noti = styled.div`\n  background: Azure\n  padding: 1em\n  position: relative;\n  margin: 0.25em 1em;\n`\n\nconst NotiText = styled.h1`\n  padding: 0.25em\n`\n\nconst Notification = ({ message }) => {\n  if(message !== null){\n    return (\n      <Noti>\n          <NotiText>{message}</NotiText>\n      </Noti>\n    )\n  }\n  \n  return null\n}\n\nNotification.propTypes = {\n  message: PropTypes.String.isRequired,\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nexport default { getAll, create }","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Login from './components/Login'\nimport Navbar from './components/Navbar'\nimport ChatBox from './components/ChatBox'\nimport Notification from './components/Notification'\nimport loginService from './services/login'\nimport messageService from './services/messages'\nimport userService from './services/users'\nimport {\n  Switch,\n  Route,\n  Redirect,\n  useHistory\n} from \"react-router-dom\"\n\nconst Wrapper = styled.div`\nposition: relative;\nwidth: 100%;\nalign-items: center;\npadding: 4em;\nbackground: SeaShell\n`\n\nconst App = () => {\n  const [user, setUser] = useState(null)\n  const [users, setUsers] = useState([])\n  const [notification, setNotification] = useState(null)\n  const history = useHistory()\n\n  useEffect(() => {\n    userService.getAll().then(users =>\n      setUsers( users )\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedChatAppUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      console.log('setUser:' + user)\n      messageService.setToken(user.token)\n      console.log(\"logged in user: \" + user.username)\n    }\n  }, [])\n\n\n  const login = async (username, password) => {\n    console.log('login')\n\n    try{\n      const user = await loginService.login({\n        username, password,\n      })\n    \n      window.localStorage.setItem(\n        'loggedChatAppUser', JSON.stringify(user)\n      )\n    \n      messageService.setToken(user.token)\n      setUser(user)\n      history.push('/')\n      setNotification(\"Hi \" + user.username + \"!\")\n      setTimeout(() => {setNotification(null)}, 5*1000)\n    } catch (exception) {\n      setNotification('Wrong username or password')\n      setTimeout(() => {setNotification(null)}, 5*1000)\n    }\n  }\n\n  const logOut = async () => {\n    window.localStorage.removeItem('loggedChatAppUser')\n    setUser(null)\n    setNotification(\"Logged out!\")\n    setTimeout(() => {setNotification(null)}, 3*1000)\n  }\n\n  const register = async (user) => {\n\n    const usernames = users.map(user => user.username)\n\n    if(usernames.includes(user.username)){\n      setNotification('Username is already taken')\n    } else if(user.username.length < 3 || user.password1.length < 3){\n      setNotification('Username and password must be at least 3 characters long')\n    } else if(user.password1 !== user.password2){\n      setNotification('Make sure password fields match!')\n    } else {\n\n      setTimeout(() => {setNotification(null)})\n\n      const newUser = {\n        username: user.username,\n        password: user.password1,\n      }\n\n      await userService.create(newUser)\n\n      login(newUser.username, newUser.password) \n\n    }\n  }\n\n  return (\n    <div>\n      <Navbar user={user} logOut={logOut} />\n      <Notification message={notification} />\n      <Wrapper>\n        <Switch>\n        <Route path=\"/login\">\n          {user \n            ? <Redirect to=\"/\" />\n            : <Login login={login} register={register} users={users} /> \n          }\n          </Route>\n          <Route path=\"/\">\n            <ChatBox user={user} />\n          </Route>\n        </Switch>\n      </Wrapper>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport {\n  HashRouter\n} from \"react-router-dom\"\n\nReactDOM.render(\n<HashRouter history={history}>\n  <App />\n</HashRouter>,\ndocument.getElementById('root')\n)"],"sourceRoot":""}